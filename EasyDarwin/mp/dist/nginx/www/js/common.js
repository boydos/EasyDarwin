function formatDateTime(e,t,a){return e?new Date(e).format("yyyy-MM-dd HH:mm:ss"):""}function formatDate(e,t,a){return e?new Date(e).format("yyyy-MM-dd"):""}function formatLink(e,t,a){return"<a href='{0}'>{1}</a>".format(e,e)}function formatSize(e,t,a){function r(e,t){if(e>=0){var a=parseInt(e*Math.pow(10,t)+.5)/Math.pow(10,t);return a}numberRound1=-e;var a=parseInt(numberRound1*Math.pow(10,t)+.5)/Math.pow(10,t);return-a}if(!e||e<0)return"0 Bytes";var n=new Array("Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"),a=0,o=parseFloat(e),i=r(o/Math.pow(1024,a=Math.floor(Math.log(o)/Math.log(1024))),2);return i+n[a]}function isPC(){var e=navigator.userAgent.toLowerCase(),t=["android","iphone","symbianos","windows phone","ipad","ipod"],a=!0;for(var r in t)if(e.indexOf(t[r])>0){a=!1;break}return a}Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"h+":this.getHours()%12,"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e},String.prototype.format=function(e){var t=this;if(arguments.length>0)if(1==arguments.length&&"object"==typeof e){for(var a in e)if(void 0!=e[a]){var r=new RegExp("({"+a+"})","g");t=t.replace(r,e[a])}}else for(var n=0;n<arguments.length;n++)if(void 0!=arguments[n]){var r=new RegExp("({)"+n+"(})","g");t=t.replace(r,arguments[n])}return t};var _url="http://121.40.50.44:10008/api/v1";try{$.ajax({type:"GET",url:_url+"/getserverinfo",global:!1,async:!1,success:function(e){var t=JSON.parse(e);_url="http://121.40.50.44:10008/api/"+t.EasyDarwin.Body.InterfaceVersion}})}catch(e){}$(function(){$.extend($.gritter.options,{class_name:"gritter-error",position:"bottom-right",fade_in_speed:100,fade_out_speed:100,time:3e3}),$(".content-wrapper").on("transitionend",function(){$("table.easyui-datagrid").each(function(e){$(this).datagrid("resize")})}),$(".main-header").on("transitionend",function(){$.AdminLTE.layout.fix(),$(".main-sidebar").css("padding-top",$(".main-header").outerHeight())}),$.AdminLTE.layout.fix(),$(document).on("click",".sidebar-toggle",function(){$(".main-sidebar").css("padding-top",$(".main-header").outerHeight())}),"undefined"!=typeof errorMsg&&errorMsg&&$.gritter.add({text:errorMsg}),$(document).ajaxSuccess(function(){$("body").removeClass("hide")}),$(document).ajaxError(function(e,t,a,r){if(401==t.status)return $.cookie("token","",{expires:-1}),$.cookie("username","",{expires:-1}),top.location.href="/login.html",!1;404==t.status&&(t.responseText="请求服务不存在或已停止");var n=t.responseText;try{n=JSON.parse(n)}catch(e){}"undefined"!=typeof n&&n&&$.gritter.add({text:n})}),$(document).on("shown.bs.modal",".modal",function(){}).on("hidden.bs.modal",".modal",function(e){$(this).find("form").each(function(){$(this)[0].reset()}),$(this).find("input:hidden").val("")}).on("show.bs.modal",".modal",function(e){$(this).find(".form-group").removeClass("has-error").removeClass("has-success"),$(this).find(".with-errors").empty()}),$(document).ajaxStart(function(){$(".modal:visible .btn-primary").prop("disabled",!0).attr("data-ajaxing","true")}).ajaxComplete(function(){$(".btn-primary:disabled[data-ajaxing=true]").prop("disabled",!1).removeAttr("data-ajaxing")}),easyloader.theme="bootstrap",easyloader.locale="zh_CN",easyloader.onProgress=function(e){"parser"==e&&($.parser.onComplete=function(){$("section.content").removeClass("easyui-wrapper"),easyloader.load(["form"])})};var e=$("ul.sidebar-menu");e.find("li").removeClass("active"),$link=e.find("li a[href='{0}']".format(location.pathname)).first(),1==$link.size()&&$link.parents("ul.sidebar-menu li").addClass("active"),$("form[data-toggle=validator]").attr("data-disable","false").attr("autocomplete","off"),$("form[data-toggle=validator]").validator().on("submit",function(e){var t=$(this);e.isDefaultPrevented()&&t.find(".form-group.has-error:first").find("input:visible").focus()}),$(document).on("keydown","form[data-toggle=validator]",function(e){if(13==e.keyCode)return!1}),$("input[data-toggle=integer]").inputNumber(),$(".modal.fade").attr("data-backdrop","static")});